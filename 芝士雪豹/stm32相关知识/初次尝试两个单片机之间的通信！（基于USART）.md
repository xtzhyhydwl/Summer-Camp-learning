
>突发奇想，既然上位机发给单片机是发，单片机发给单片机不也是发？所以搭建了一个基于只有一个可怜的usb转ttl连接两个单片机的单向传输网络

# 1. 原理

- 详见[[UART的全双工真是好东西！|这个]]，一个单片机只接收上位机，另一个单片机只发送给上位机，两个机之间tx-rx连接，就能达到单向传输（全双工被你玩成半单工是吧）

# 2. CubeMX配置

- 需要配置两个工程，分别命名为C8T6和RCT6，其实两个配置都一样，除了老一套系统内核配置之外就是都把USART1打开，统一波特率为9600，打开中断使能
	![[Pasted image 20230811092342.png]]

# 3. Keil程序

- 两个机子的程序其实是一模一样的，都是阻塞式发送放在中断回调函数，中断接收放在while(1)里；判断接收到的数据是否是特定数据，若是则发送给下一个设备
	![[Pasted image 20230811092718.png]]
	![[Pasted image 20230811092742.png]]

# 4. 遇到的问题

- 这次竟然一次成功，哈哈哈

# 5. 总结

- 成就感上来了

- 乐 :-P